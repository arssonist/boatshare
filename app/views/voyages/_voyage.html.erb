<div class="voyage-index">
    <h6>Voyage departs from: <%= voyage.location %></h6>
    <h6>Voyage start time: <%= voyage.start_time %></h6>
    <h6>Voyage end time: <%= voyage.end_time %></h6>
    <h6>Voyage description: <%= voyage.description %></h6>
    <h6>Vessel type: <%= voyage.vessel_type %></h6>
    <h6>Boat image: <%= voyage.boat_image_url %></h6>
</div>

<!-- This is all the stuff from the show page -->

<section id="services" class="services bg-primary">
    <div class="container">
        <div class="row text-center">
            <div class="col-lg-10 col-lg-offset-1">
<h1><%= @voyage.title %></h1>

<h6>Voyage departs from :<%= @voyage.location %></h6>
<h6>Latitude: <%= @voyage.latitude %></h6>
<h6>longitude: <%= @voyage.longitude %></h6>
<h6>Voyage start time: <%= @voyage.start_time %></h6>
<h6>Voyage end time: <%= @voyage.end_time %></h6>
<h6>Voyage description: <%= @voyage.description %></h6>
<h6>Vessel type: <%= @voyage.vessel_type %></h6>
<h6>Boat image: <%= image_tag(@voyage.boat_image_url) %></h6>
<h6>Voyage capacity: <%= @voyage.capacity %></h6>


</div>
</div>
</div>
</section>
<div id="map"></div>

<script>

  function initMap() {
    var myLatLng = {lat: <%= @voyage.latitude %>, lng: <%= @voyage.longitude %>};

    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 8,
      center: myLatLng
    });

    var marker = new google.maps.Marker({
      position: myLatLng,
      map: map,
      title: 'Hello World!'
    });
  }
</script>
<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=<%= ENV["google_api_key"] %>&callback=initMap">
</script>


<button type="submit" id="voyage-button">Check Space</button>

  <div class='modal'>
    <div class='inner-modal'>
      <!-- This is the window that fades in, and is different than the window code that is in the partial
      class here pertains to the modal window that will fadeIn. -->
      <%= form_for [@voyage, @reservation], :html => {:class => 'voyage-form-class', :id => 'reservation-form-id'} do |f|%>
      <button type="button" class="close">x</button>
<!-- Added id to call ajax request on form -->
      <h6>Voyage departs from :<%= @voyage.location %></h6>
      <h6>Voyage start time: <%= @voyage.start_time %></h6>
      <h6>Voyage end time: <%= @voyage.end_time %></h6>
      <h6>Voyage description: <%= @voyage.description %></h6>
      <h6>Vessel type: <%= @voyage.vessel_type %></h6>
      <h6>Boat image: <%= @voyage.boat_image_url %></h6>
      <h6>Seat Location: <%= f.text_field :seat_location, placeholder: "port or starboard?" %>


      <h6>Life Jacket Size: <%= f.text_field :life_jacket_size,
      placeholder: "small, meduim of large" %></h6>
      <h6>Special Needs?: <%= f.text_field :need_accessibility,
            placeholder: "what you need?" %></h6>

<!-- where is create reservation button ? -->
      <p>
        <%= f.submit %>
        <% end %>
      </p>
    </div>
  </div>

  <%= link_to 'Edit Voyage', edit_voyage_path(@voyage) %>

  <%= link_to 'Delete', voyage_path(@voyage), method: :delete, data: {confirm: "Are you sure you want to delete the voyage '#{@voyage.title}'? This cannot be undone!"}%>

  <!-- Map -->
  <section id="contact" class="map">
      <iframe width="100%" height="100%" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d46190.57183521767!2d-79.41786892280132!3d43.65002540989835!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1sGilligan!5e0!3m2!1sen!2sca!4v1475676955621></iframe>
      <br />
      <small>
          <a href=https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d46190.57183521767!2d-79.41786892280132!3d43.65002540989835!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1sGilligan!5e0!3m2!1sen!2sca!4v1475676955621"></a>
      </small>
      </iframe>
  </section>

  <!-- Footer -->
  <footer>
      <div class="container">
          <div class="row">
              <div class="col-lg-10 col-lg-offset-1 text-center">
                  <h4><strong>Gilligan Boating</strong>
                  </h4>
                  <p>123 Bitmaker Blvd
                      <br>Toronto, ON</p>
                  <ul class="list-unstyled">
                      <li><i class="fa fa-phone fa-fw"></i> (123) 456-7890</li>
                      <li><i class="fa fa-envelope-o fa-fw"></i> <a href="mailto:boating@gilligan.com">boating@gilligan.com</a>
                      </li>
                  </ul>
                  <br>
                  <ul class="list-inline">
                      <li>
                          <a href="#"><i class="fa fa-facebook fa-fw fa-3x"></i></a>
                      </li>
                      <li>
                          <a href="#"><i class="fa fa-twitter fa-fw fa-3x"></i></a>
                      </li>
                      <li>
                          <a href="#"><i class="fa fa-dribbble fa-fw fa-3x"></i></a>
                      </li>
                  </ul>
                  <hr class="small">
                  <p class="text-muted">Copyright &copy; Gilligan Boating 2014</p>
              </div>
          </div>
      </div>
      <a id="to-top" href="#top" class="btn btn-dark btn-lg"><i class="fa fa-chevron-up fa-fw fa-1x"></i></a>
  </footer>

  <!-- Custom Theme JavaScript -->
  <script>
  // Closes the sidebar menu
  $("#menu-close").click(function(e) {
      e.preventDefault();
      $("#sidebar-wrapper").toggleClass("active");
  });
  // Opens the sidebar menu
  $("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#sidebar-wrapper").toggleClass("active");
  });
  // Scrolls to the selected menu item on the page
  $(function() {
      $('a[href*=#]:not([href=#],[data-toggle],[data-target],[data-slide])').click(function() {
          if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') || location.hostname == this.hostname) {
              var target = $(this.hash);
              target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
              if (target.length) {
                  $('html,body').animate({
                      scrollTop: target.offset().top
                  }, 1000);
                  return false;
              }
          }
      });
  });
  //#to-top button appears after scrolling
  var fixed = false;
  $(document).scroll(function() {
      if ($(this).scrollTop() > 250) {
          if (!fixed) {
              fixed = true;
              // $('#to-top').css({position:'fixed', display:'block'});
              $('#to-top').show("slow", function() {
                  $('#to-top').css({
                      position: 'fixed',
                      display: 'block'
                  });
              });
          }
      } else {
          if (fixed) {
              fixed = false;
              $('#to-top').hide("slow", function() {
                  $('#to-top').css({
                      display: 'none'
                  });
              });
          }
      }
  });
  // Disable Google Maps scrolling
  // See http://stackoverflow.com/a/25904582/1607849
  // Disable scroll zooming and bind back the click event
  var onMapMouseleaveHandler = function(event) {
      var that = $(this);
      that.on('click', onMapClickHandler);
      that.off('mouseleave', onMapMouseleaveHandler);
      that.find('iframe').css("pointer-events", "none");
  }
  var onMapClickHandler = function(event) {
          var that = $(this);
          // Disable the click handler until the user leaves the map area
          that.off('click', onMapClickHandler);
          // Enable scrolling zoom
          that.find('iframe').css("pointer-events", "auto");
          // Handle the mouse leave event
          that.on('mouseleave', onMapMouseleaveHandler);
      }
      // Enable map zooming with mouse scroll when the user clicks the map
  $('.map').on('click', onMapClickHandler);
  </script>
